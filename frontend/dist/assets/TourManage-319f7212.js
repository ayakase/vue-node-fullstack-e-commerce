import{_ as N,u as L,r as u,o as O,c as q,d as r,e as p,f as t,g as h,h as e,D as w,B as K,C as P,G as E,t as i,F as R,j as U,k as z,n as A,l as F,b as T,q as G,s as H,z as x}from"./index-2eb3fb2f.js";import{T as j}from"./TableLoading-d89b5e18.js";/* empty css                                                                     */const a=b=>(G("data-v-6090acd1"),b=b(),H(),b),X={class:"admin-tour-crud"},J=a(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),Q={class:"sorting-container"},W=a(()=>t("div",{style:{"font-size":"larger",width:"5rem"}},"Bộ lọc:",-1)),Y={class:"sorting-button-container"},Z={class:"d-flex search-container"},tt=a(()=>t("i",{class:"fas fa-search"},null,-1)),ot=[tt],et=["onKeydown"],st={class:"btn-group"},nt={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},lt=a(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),at=a(()=>t("i",{class:"fa-solid fa-vihara"},null,-1)),ct=a(()=>t("i",{class:"fa-solid fa-flag"},null,-1)),it=a(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),ut=a(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),dt=a(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),rt=[dt],ht={key:0,class:"table table-success table-striped table-hover",style:{"box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},pt=a(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên tour"),t("th",{scope:"col"},"Dia diem"),t("th",{scope:"col"},"Slug"),t("th",{scope:"col"},"Lịch trình"),t("th",{scope:"col"},"Khởi hành"),t("th",{scope:"col"},"Số ngày"),t("th",{scope:"col"},"Tour Hot"),t("th",{scope:"col"},"Phương tiện"),t("th",{scope:"col"}," Tạo lúc "),t("th",{scope:"col"}," Chỉnh sửa "),t("th",{scope:"col"}," Xóa")])],-1)),_t=["onClick"],bt=["onClick"],ft=["onClick"],vt=["onClick"],mt=["onClick"],gt=["onClick"],kt=["onClick"],Ct=["onClick"],yt=["onClick"],wt=["onClick"],Tt=["onClick"],xt=["onClick"],St=a(()=>t("i",{class:"fa-solid fa-pen-to-square"},null,-1)),$t=[St],Dt=["onClick"],Bt=a(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),It=[Bt],Mt={__name:"TourManage",setup(b){const s=L();let _=u(1),f=u(),C=u(),m=u("Đã xuất bản"),y=u();const g=u("");function S(){y.value=1,m.value="Đã xuất bản"}function $(){y.value=0,m.value="Chưa xuất bản"}function d(){f.value=null,T.get("/admin/tour/"+k.value+"/"+_.value,{params:{keyword:g.value}}).then(c=>{f.value=c.data.rows,C.value=c.data.count/10+1}).catch(c=>{console.error(c)})}O(()=>{d()});function D(){d()}function B(c){let n="Bạn có chắc chắn muốn xóa Tour "+c;confirm(n)==!0&&T.delete("/admin/tour/"+c).then(v=>{x.info("Đã xóa",{autoClose:2e3,theme:"colored",position:x.POSITION.BOTTOM_RIGHT}),d()}).catch(v=>{console.error(v)})}u("Tất cả"),u(0);let k=u("DESC");function I(){k.value="DESC",d()}function M(){k.value="ASC",d()}function V(c){const n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(c).toLocaleString("vi-VN",n).replace(" tháng ","/").replace("lúc","").replace(", ","/")}return(c,n)=>{const v=q("v-pagination");return r(),p("div",X,[t("button",{onClick:n[0]||(n[0]=o=>e(s).push("/admin/quan-ly-tour/them-tour")),class:"btn btn-success add-btn",style:{"margin-bottom":"1rem"}},[h(" Thêm tour mới "),J]),t("div",Q,[W,t("div",Y,[t("form",Z,[t("button",{class:"btn btn-outline-success",onClick:n[1]||(n[1]=w(()=>{},["prevent"]))},ot),K(t("input",{onKeydown:E(w(d,["prevent"]),["enter"]),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search","onUpdate:modelValue":n[2]||(n[2]=o=>g.value=o)},null,40,et),[[P,g.value]])]),t("div",st,[t("button",nt,[h(" Trạng thái   "),lt,h(" "+i(e(m)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:S},[h(" Đã xuất bản  "),at]),t("button",{class:"dropdown-item",onClick:$},[h(" Chưa xuất bản   "),ct])])]),t("button",{class:"sort-button btn btn-success",onClick:I},[h("Mới nhất   "),it]),t("button",{class:"sort-button btn btn-success",onClick:M},[h("Cũ nhất   "),ut]),t("button",{class:"btn btn-success",onClick:d},rt)])]),e(f)?(r(),p("table",ht,[pt,t("tbody",null,[(r(!0),p(R,null,U(e(f),o=>(r(),p("tr",{key:o,class:"each-tour-row"},[t("th",{scope:"row",onClick:l=>e(s).push({path:"/"+o.slug})},i(o.id),9,_t),t("td",{onClick:l=>e(s).push({path:"/"+o.slug})},i(o.title),9,bt),t("td",{onClick:l=>e(s).push({path:"/"+o.slug})},i(o.Location.name),9,ft),t("td",{onClick:l=>e(s).push({path:"/"+o.slug})},i(o.slug),9,vt),t("td",{onClick:l=>e(s).push({path:"/"+o.slug})},i(o.schedule),9,mt),t("td",{onClick:l=>e(s).push({path:"/tour/"+o.slug})},i(o.departure),9,gt),t("td",{onClick:l=>e(s).push({path:"/tour/"+o.slug})},i(o.days),9,kt),o.ishottour==1?(r(),p("td",{key:0,onClick:l=>e(s).push({path:"/tour/"+o.slug})}," Có ",8,Ct)):(r(),p("td",{key:1,onClick:l=>e(s).push({path:"/tour/"+o.slug})}," Không",8,yt)),t("td",{onClick:l=>e(s).push({path:"/tour/"+o.slug})},i(o.transportation),9,wt),t("td",{onClick:l=>e(s).push({path:"/tour/"+o.slug})},i(V(o.createdAt)),9,Tt),t("td",null,[t("button",{onClick:l=>e(s).push({path:"/admin/quan-ly-tour/chinh-sua-tour",query:{id:o.id}}),class:"edit-button"},$t,8,xt)]),t("td",null,[t("button",{class:"delete-button",onClick:l=>B(o.id)},It,8,Dt)])]))),128))])])):(r(),z(j,{key:1})),A(v,{onClick:D,modelValue:e(_),"onUpdate:modelValue":n[3]||(n[3]=o=>F(_)?_.value=o:_=o),length:e(C),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"])])}}},Ot=N(Mt,[["__scopeId","data-v-6090acd1"]]);export{Ot as default};
