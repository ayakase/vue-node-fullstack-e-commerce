import{_ as P,y as z,r as a,o as A,w as F,c as n,d as i,z as l,l as R,m as M,e as t,j as m,t as c,F as y,A as x,f as I,v as O,I as C,b as T,G as _,s as j,x as E,L as K}from"./index-4e6a6190.js";import{s as X}from"./slugify-416eb427.js";import{T as $}from"./TableLoading-5344880a.js";/* empty css                                                                     */const d=v=>(j("data-v-15260b1a"),v=v(),E(),v),q={class:"admin-tour-crud"},J={class:"sorting-container",style:{"margin-top":"2rem"}},Q=d(()=>t("div",{style:{"font-size":"larger",width:"5rem"}},"Bộ lọc:",-1)),W={class:"sorting-button-container"},Y={class:"btn-group"},Z={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},tt=d(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),et={key:0,class:"dropdown-menu"},ot=["onClick"],st=d(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),lt=[st],nt={key:0,class:"table table-success table-striped table-hover",style:{"box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},at=d(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên khu vực"),t("th",{scope:"col"},"Slug"),t("th",{scope:"col"},"Note"),t("th",{scope:"col",style:{"text-align":"center"}}," Xóa")])],-1)),ct={style:{"text-align":"center"}},it=["onClick"],dt=d(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),ut=[dt],rt={class:"add-container"},_t={class:""},pt={class:""},ht={class:""},mt={class:"btn-group"},vt={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},gt=d(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),bt={class:"dropdown-menu"},ft=["onClick"],yt=d(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),Tt={__name:"LocationManage",setup(v){z();let g=a(),w=a(!1),L=a("Tất cả"),k=a(""),S=a(),b=a();function B(o,s){k.value=o,L.value=s,p()}function V(o,s){b.value=o,S.value=s}function p(){g.value=null,T.get("/admin/location/locationlist",{params:{region:k.value}}).then(o=>{g.value=o.data})}let f=a();function D(){T.get("/admin/location/region").then(o=>{f.value=o.data}).catch(o=>{console.log(o)})}A(()=>{p(),D()});function G(o){let s="Bạn có chắc chắn muốn xóa Tour "+o;confirm(s)==!0&&T.delete("/admin/location/"+o).then(e=>{_.info("Đã xóa",{autoClose:2e3,theme:"colored",position:_.POSITION.BOTTOM_RIGHT}),p()}).catch(e=>{console.error(e)})}let u=a(),r=a(),h=a();function U(o){return X(o,{locale:"vi",lower:!0})}F(u,o=>{r.value=U(o)});function H(){if(b.value){w.value=!0;let o={name:u.value,slug:r.value,note:h.value,region_id:b.value};T.post("/admin/location",o).then(s=>{_.info(s.data,{autoClose:2e3,theme:"colored",position:_.POSITION.BOTTOM_RIGHT}),w.value=!1,p()}).catch(s=>{console.log(s)})}else _.info("Vui lòng chọn khu vực cho địa điểm của bạn",{autoClose:2e3,theme:"colored",position:_.POSITION.BOTTOM_RIGHT})}return(o,s)=>(n(),i(y,null,[l(w)?(n(),R(K,{key:0})):M("",!0),t("div",q,[t("div",J,[Q,t("div",W,[t("div",Y,[t("button",Z,[m(" Địa điểm   "),tt,m(" "+c(l(L)),1)]),l(f)?(n(),i("div",et,[t("button",{class:"dropdown-item",onClick:s[0]||(s[0]=e=>B("","Tất cả"))},"Tất cả"),(n(!0),i(y,null,x(l(f),e=>(n(),i("button",{class:"dropdown-item",onClick:N=>B(e.slug,e.name)},c(e.name),9,ot))),256))])):M("",!0)]),t("p",null,c(l(k)),1),t("button",{class:"btn btn-success",onClick:p},lt)])]),l(g)?(n(),i("table",nt,[at,t("tbody",null,[(n(!0),i(y,null,x(l(g),e=>(n(),i("tr",{key:e,class:"each-tour-row"},[t("td",null,c(e.id),1),t("td",null,c(e.name),1),t("td",null,c(e.slug),1),t("td",null,c(e.note),1),t("td",ct,[t("button",{class:"delete-button",onClick:N=>G(e.id)},ut,8,it)])]))),128))])])):(n(),R($,{key:1})),t("div",rt,[t("div",_t,[I(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>C(u)?u.value=e:u=e),type:"text",class:"form-control",id:"",placeholder:"Tên khu vực	"},null,512),[[O,l(u)]])]),t("div",pt,[I(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>C(r)?r.value=e:r=e),type:"text",class:"form-control",id:"",placeholder:"Slug"},null,512),[[O,l(r)]])]),t("div",ht,[I(t("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>C(h)?h.value=e:h=e),type:"text",class:"form-control",id:"",placeholder:"Note"},null,512),[[O,l(h)]])]),t("div",mt,[t("button",vt,[m(" Địa điểm   "),gt,m(" "+c(l(S)),1)]),t("div",bt,[(n(!0),i(y,null,x(l(f),e=>(n(),i("button",{class:"dropdown-item",onClick:N=>V(e.id,e.name)},c(e.name),9,ft))),256))])]),t("button",{onClick:H,class:"btn btn-success"},[m(" Khu vực mới "),yt]),t("p",null,c(l(b)),1)])])],64))}},Ot=P(Tt,[["__scopeId","data-v-15260b1a"]]);export{Ot as default};
