import{_ as U,u as $,r as _,o as j,c as i,d as u,e as h,f as t,D as I,G as q,g as s,t as o,h as m,F as X,j as J,k as Q,n,l as W,b as N,p as a,H as Y,q as Z,s as tt,z as y}from"./index-87fb46f9.js";import{T as et}from"./TableLoading-d1704a8a.js";/* empty css                                                                     */const l=g=>(Z("data-v-8e8f4356"),g=g(),tt(),g),lt={class:"order-manage-container"},nt={class:"sorting-container"},ot=l(()=>t("div",{style:{"font-size":"larger",width:"6rem"}},"Bộ lọc:",-1)),st={class:"sorting-button-container"},at={class:"d-flex search-container"},ct=l(()=>t("i",{class:"fas fa-search"},null,-1)),it=[ct],dt={class:"btn-group"},rt={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},ut=l(()=>t("i",{class:"fa-solid fa-check-to-slot"},": ",-1)),_t=l(()=>t("i",{class:"fa-solid fa-xmark"},null,-1)),ht=l(()=>t("i",{class:"fa-solid fa-check"},null,-1)),pt=l(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),ft=l(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),vt=l(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),mt=[vt],gt={key:0,class:"table table-success table-striped",style:{width:"80vw","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},bt=l(()=>t("thead",null,[t("tr",null,[t("th",{style:{"vertical-align":"top"},scope:"col"},"Tour"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Tên khách hàng"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Đặt lúc"),t("th",null,"Chi tiết"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Hành động")])],-1)),kt=l(()=>t("i",{class:"fa-solid fa-circle-info"},null,-1)),yt=l(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Loại khách "),t("th",{class:"text-left"}," Số lượng ")])],-1)),xt=l(()=>t("td",null,"Người lớn (Trên 12 tuổi)",-1)),wt=l(()=>t("td",null,"Trẻ em(Từ 6 - 10 tuổi) ",-1)),Ct=l(()=>t("td",null,"Trẻ em (Từ 2 - 5 tuổi)",-1)),Tt=l(()=>t("td",null,"Trẻ em (Dưới 2 tuổi) ",-1)),Ot={style:{color:"orangered"}},St={key:0,style:{"vertical-align":"middle"}},It=["onClick"],Nt=l(()=>t("i",{class:"fa-regular fa-circle-check fa-lg"},null,-1)),Mt=[Nt],Vt={key:1,style:{"vertical-align":"middle"}},Bt=["onClick"],Dt=l(()=>t("i",{class:"fa-regular fa-circle-xmark fa-lg"},null,-1)),Lt=[Dt],Pt={__name:"OrderManage",setup(g){$();let p=_(1),C=_(),x=_("DESC"),b=_(),w=_("Chưa xử lý"),k=_(0);function r(){b.value=null,N.get("/admin/order/"+x.value+"/"+k.value+"/"+p.value).then(d=>{b.value=d.data.rows,C.value=d.data.count/10+1}).catch(d=>{console.error(d)})}j(()=>{r()});function M(){x.value="DESC",r()}function V(){x.value="ASC",r()}function B(){w.value="Đã xử lý",k.value=1,r()}function D(){w.value="Chưa xử lý",k.value=0,r()}function T(d){const c={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(d).toLocaleString("vi-VN",c).replace(" tháng ","/").replace("lúc","").replace(", ","/")}function L(){r()}function O(d){N.put("/admin/order/"+d).then(c=>{r(),k.value==0?y.success("Đã chuyển sang mục đã xử lý",{autoClose:2e3,theme:"colored",position:y.POSITION.BOTTOM_RIGHT}):y.info("Đã chuyển sang mục chưa xử lý",{autoClose:2e3,theme:"colored",position:y.POSITION.BOTTOM_RIGHT})}).catch(c=>{console.log(c)})}return(d,c)=>{const S=i("v-divider"),f=i("v-card-text"),P=i("v-table"),E=i("v-card-title"),G=i("v-card-item"),H=i("v-spacer"),R=i("v-btn"),A=i("v-card-actions"),F=i("v-card"),K=i("v-dialog"),z=i("v-pagination");return u(),h("div",lt,[t("div",nt,[ot,t("div",st,[t("form",at,[t("button",{class:"btn btn-outline-success",onClick:c[0]||(c[0]=I(()=>{},["prevent"]))},it),t("input",{onKeydown:c[1]||(c[1]=q(I(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",dt,[t("button",rt,[s(" Trạng thái   "),ut,s(" "+o(m(w)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:D},[s("Chưa xử lí   "),_t]),t("button",{class:"dropdown-item",onClick:B},[s("Đã xử lí  "),ht])])]),t("button",{class:"sort-button btn btn-success",onClick:M},[s("Mới nhất   "),pt]),t("button",{class:"sort-button btn btn-success",onClick:V},[s("Cũ nhất   "),ft]),t("button",{class:"btn btn-success",onClick:r},mt)])]),m(b)?(u(),h("table",gt,[bt,t("tbody",null,[(u(!0),h(X,null,J(m(b),e=>(u(),h("tr",{key:e,class:"each-tour-row"},[t("td",null,o(e.Tour.title),1),t("td",null,o(e.name),1),t("td",null,o(T(e.createdAt)),1),t("td",null,[n(K,{"max-width":"500"},{activator:a(({props:v})=>[t("a",Y({class:"detail-popup"},v),[s(" Xem   "),kt],16)]),default:a(({isActive:v})=>[n(F,{title:"Thông tin chi tiết",color:"#d1e7dd","prepend-icon":"fa-solid fa-circle-info"},{default:a(()=>[n(S,{thickness:2}),n(f,null,{default:a(()=>[s("Khách hàng: "+o(e.name),1)]),_:2},1024),n(f,null,{default:a(()=>[s("Số điện thoại: "+o(e.phone),1)]),_:2},1024),n(f,null,{default:a(()=>[s(" Đặt lúc: "+o(T(e.createdAt)),1)]),_:2},1024),n(f,null,{default:a(()=>[s(" Email: "+o(e.email),1)]),_:2},1024),n(f,null,{default:a(()=>[s(" Ghi chú: "+o(e.note),1)]),_:2},1024),n(G,null,{default:a(()=>[n(P,{density:"compact",style:{background:"none"}},{default:a(()=>[yt,t("tbody",null,[t("tr",null,[xt,t("td",null,o(e.adult),1)]),t("tr",null,[wt,t("td",null,o(e.teenager),1)]),t("tr",null,[Ct,t("td",null,o(e.children),1)]),t("tr",null,[Tt,t("td",null,o(e.infant),1)])])]),_:2},1024),n(S),n(E,null,{default:a(()=>[s("Đơn giá tour: "),t("span",Ot,o(d.numeralFormat(e.price))+" VNĐ ",1)]),_:2},1024)]),_:2},1024),n(A,null,{default:a(()=>[n(H),n(R,{text:"Thoát",onClick:Et=>v.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),e.solved==0?(u(),h("td",St,[t("button",{class:"solve-btn",onClick:v=>O(e.id)},Mt,8,It)])):(u(),h("td",Vt,[t("button",{class:"solve-btn",onClick:v=>O(e.id)},Lt,8,Bt)]))]))),128))])])):(u(),Q(et,{key:1})),n(z,{onClick:L,modelValue:m(p),"onUpdate:modelValue":c[2]||(c[2]=e=>W(p)?p.value=e:p=e),length:m(C),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"])])}}},At=U(Pt,[["__scopeId","data-v-8e8f4356"]]);export{At as default};
