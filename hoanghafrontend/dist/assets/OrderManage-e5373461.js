import{_ as V,u as D,r as i,o as E,c as G,d as c,e as r,f as t,D as C,G as L,g as d,t as l,h as u,F as P,j as R,k as H,n as K,l as z,b as w,q as A,s as F,z as v}from"./index-2eb3fb2f.js";import{T as U}from"./TableLoading-d89b5e18.js";/* empty css                                                                     */const s=p=>(A("data-v-ab781ba9"),p=p(),F(),p),$={class:"order-manage-container"},j={class:"sorting-container"},q=s(()=>t("div",{style:{"font-size":"larger"}},"Bộ lọc:",-1)),J={class:"sorting-button-container"},Q={class:"d-flex search-container"},W=s(()=>t("i",{class:"fas fa-search"},null,-1)),X=[W],Y={class:"btn-group"},Z={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},tt=s(()=>t("i",{class:"fa-solid fa-check-to-slot"},": ",-1)),et=s(()=>t("i",{class:"fa-solid fa-xmark"},null,-1)),ot=s(()=>t("i",{class:"fa-solid fa-check"},null,-1)),st=s(()=>t("i",{class:"fa-solid fa-arrow-up-wide-short"},null,-1)),lt=s(()=>t("i",{class:"fa-solid fa-arrow-down-wide-short"},null,-1)),nt=s(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),at=[nt],ct={key:0,class:"table table-success table-striped",style:{width:"80vw","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},it=s(()=>t("thead",null,[t("tr",null,[t("th",{style:{"vertical-align":"top"},scope:"col"},"Tên tour"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Khách hàng"),t("th",{style:{"vertical-align":"top"},scope:"col"},"SĐT"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Ngày đặt"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Email"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Trẻ em (dưới 5)"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Trẻ em (5-11) tuổi"),t("th",{style:{"vertical-align":"top"},scope:"col"}," Người lớn (trên 12 tuổi) "),t("th",{style:{"vertical-align":"top"},scope:"col"}," Ghi chú"),t("th",{style:{"vertical-align":"top"},scope:"col"},"Hành động")])],-1)),rt=["onClick"],dt={key:0,style:{"vertical-align":"middle"}},ut=["onClick"],ht=s(()=>t("i",{class:"fa-regular fa-circle-check fa-lg"},null,-1)),pt=[ht],_t={key:1,style:{"vertical-align":"middle"}},gt=["onClick"],vt=s(()=>t("i",{class:"fa-regular fa-circle-xmark fa-lg"},null,-1)),ft=[vt],bt={__name:"OrderManage",setup(p){const x=D();let h=i(1),m=i(),f=i("DESC"),_=i(),b=i("Chưa xử lý"),g=i(0);function a(){_.value=null,w.get("/admin/order/"+f.value+"/"+g.value+"/"+h.value).then(n=>{_.value=n.data.rows,m.value=n.data.count/10+1}).catch(n=>{console.error(n)})}E(()=>{a()});function T(){f.value="DESC",a()}function O(){f.value="ASC",a()}function S(){b.value="Đã xử lý",g.value=1,a()}function I(){b.value="Chưa xử lý",g.value=0,a()}function N(n){const o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(n).toLocaleString("vi-VN",o).replace(" tháng ","/").replace("lúc","").replace(", ","/")}function M(){a()}function y(n){w.put("/admin/order/"+n).then(o=>{a(),g.value==0?v.success("Đã chuyển sang mục đã xử lý",{autoClose:2e3,theme:"colored",position:v.POSITION.BOTTOM_RIGHT}):v.info("Đã chuyển sang mục chưa xử lý",{autoClose:2e3,theme:"colored",position:v.POSITION.BOTTOM_RIGHT})}).catch(o=>{console.log(o)})}return(n,o)=>{const B=G("v-pagination");return c(),r("div",$,[t("div",j,[q,t("div",J,[t("form",Q,[t("button",{class:"btn btn-outline-success",onClick:o[0]||(o[0]=C(()=>{},["prevent"]))},X),t("input",{onKeydown:o[1]||(o[1]=L(C(()=>{},["prevent"]),["enter"])),class:"form-control me-2 search-box",type:"search",placeholder:"Tìm kiếm theo tên","aria-label":"Search"},null,32)]),t("div",Y,[t("button",Z,[d(" Trạng thái   "),tt,d(" "+l(u(b)),1)]),t("div",{class:"dropdown-menu"},[t("button",{class:"dropdown-item",onClick:I},[d("Chưa xử lí   "),et]),t("button",{class:"dropdown-item",onClick:S},[d("Đã xử lí  "),ot])])]),t("button",{class:"sort-button btn btn-success",onClick:T},[d("Mới nhất   "),st]),t("button",{class:"sort-button btn btn-success",onClick:O},[d("Cũ nhất   "),lt]),t("button",{class:"btn btn-success",onClick:a},at)])]),u(_)?(c(),r("table",ct,[it,t("tbody",null,[(c(!0),r(P,null,R(u(_),e=>(c(),r("tr",{key:e,class:"each-tour-row"},[t("td",{onClick:k=>u(x).push({path:"/order/"+e.id})},l(e.Tour.title),9,rt),t("td",null,l(e.name),1),t("td",null,l(e.phone),1),t("td",null,l(N(e.createdAt)),1),t("td",null,l(e.email),1),t("td",null,l(e.children),1),t("td",null,l(e.teenager),1),t("td",null,l(e.adult),1),t("td",null,l(e.note),1),e.solved==0?(c(),r("td",dt,[t("button",{class:"solve-btn",onClick:k=>y(e.id)},pt,8,ut)])):(c(),r("td",_t,[t("button",{class:"solve-btn",onClick:k=>y(e.id)},ft,8,gt)]))]))),128))])])):(c(),H(U,{key:1})),K(B,{onClick:M,modelValue:u(h),"onUpdate:modelValue":o[2]||(o[2]=e=>z(h)?h.value=e:h=e),length:u(m),"total-visible":5,"prev-icon":"fa-solid fa-chevron-left","next-icon":"fa-solid fa-chevron-right"},null,8,["modelValue","length"])])}}},Ct=V(bt,[["__scopeId","data-v-ab781ba9"]]);export{Ct as default};
