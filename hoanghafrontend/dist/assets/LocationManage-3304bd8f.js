import{_ as P,u as z,r as a,o as F,w as $,d as n,e as i,h as l,k as R,i as M,f as t,g as f,t as c,F as k,j as C,B as I,C as O,l as L,b as y,z as p,q as j,s as A,L as E}from"./index-2eb3fb2f.js";import{s as K}from"./slugify-961af084.js";import{T as X}from"./TableLoading-d89b5e18.js";/* empty css                                                                     */const d=m=>(j("data-v-761c2f68"),m=m(),A(),m),J={class:"admin-tour-crud"},Q={class:"sorting-container",style:{"margin-top":"2rem"}},W=d(()=>t("div",{style:{"font-size":"larger",width:"5rem"}},"Bộ lọc:",-1)),Y={class:"sorting-button-container"},Z={class:"btn-group"},tt={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},ot=d(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),et={key:0,class:"dropdown-menu"},st=["onClick"],lt=d(()=>t("i",{class:"fa-solid fa-rotate-right"},null,-1)),nt=[lt],at={key:0,class:"table table-success table-striped table-hover",style:{"box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 8px"}},ct=d(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Tên khu vực"),t("th",{scope:"col"},"Slug"),t("th",{scope:"col"},"Note"),t("th",{scope:"col"}," Chỉnh sửa "),t("th",{scope:"col"}," Xóa")])],-1)),it=d(()=>t("i",{class:"fa-solid fa-pen-to-square"},null,-1)),dt=[it],ut=["onClick"],rt=d(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),pt=[rt],ht={class:"add-container"},_t={class:""},ft={class:""},mt={class:""},gt={class:"btn-group"},vt={type:"button",class:"btn btn-success dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white"}},bt=d(()=>t("i",{class:"fa-solid fa-book"}," :",-1)),kt={class:"dropdown-menu"},yt=["onClick"],Tt=d(()=>t("i",{class:"fa-solid fa-plus"},null,-1)),wt={__name:"LocationManage",setup(m){const V=z();let g=a(),T=a(!1),S=a("Tất cả"),w=a(""),B=a(),v=a();function N(s,e){w.value=s,S.value=e,h()}function q(s,e){v.value=s,B.value=e}function h(){g.value=null,y.get("/admin/location/locationlist",{params:{region:w.value}}).then(s=>{g.value=s.data})}let b=a();function D(){y.get("/admin/location/region").then(s=>{b.value=s.data}).catch(s=>{console.log(s)})}F(()=>{h(),D()});function U(s){let e="Bạn có chắc chắn muốn xóa Tour "+s;confirm(e)==!0&&y.delete("/admin/location/"+s).then(o=>{console.log(o),p.info("Đã xóa",{autoClose:2e3,theme:"colored",position:p.POSITION.BOTTOM_RIGHT}),h()}).catch(o=>{console.error(o)})}let u=a(),r=a(),_=a();function G(s){return K(s,{locale:"vi",lower:!0})}$(u,s=>{r.value=G(s)});function H(){if(v.value){T.value=!0;let s={name:u.value,slug:r.value,note:_.value,region_id:v.value};y.post("/admin/location",s).then(e=>{console.log(e),p.info(e.data,{autoClose:2e3,theme:"colored",position:p.POSITION.BOTTOM_RIGHT}),T.value=!1,h()}).catch(e=>{console.log(e)})}else p.info("Vui lòng chọn khu vực cho địa điểm của bạn",{autoClose:2e3,theme:"colored",position:p.POSITION.BOTTOM_RIGHT})}return(s,e)=>(n(),i(k,null,[l(T)?(n(),R(E,{key:0})):M("",!0),t("div",J,[t("div",Q,[W,t("div",Y,[t("div",Z,[t("button",tt,[f(" Địa điểm   "),ot,f(" "+c(l(S)),1)]),l(b)?(n(),i("div",et,[t("button",{class:"dropdown-item",onClick:e[0]||(e[0]=o=>N("","Tất cả"))},"Tất cả"),(n(!0),i(k,null,C(l(b),o=>(n(),i("button",{class:"dropdown-item",onClick:x=>N(o.slug,o.name)},c(o.name),9,st))),256))])):M("",!0)]),t("p",null,c(l(w)),1),t("button",{class:"btn btn-success",onClick:h},nt)])]),l(g)?(n(),i("table",at,[ct,t("tbody",null,[(n(!0),i(k,null,C(l(g),o=>(n(),i("tr",{key:o,class:"each-tour-row"},[t("td",null,c(o.id),1),t("td",null,c(o.name),1),t("td",null,c(o.slug),1),t("td",null,c(o.note),1),t("td",null,[t("button",{onClick:e[1]||(e[1]=x=>l(V).push({path:"/admin/quan-ly-tour/chinh-sua-tour",query:{id:s.tour.id}})),class:"edit-button"},dt)]),t("td",null,[t("button",{class:"delete-button",onClick:x=>U(o.id)},pt,8,ut)])]))),128))])])):(n(),R(X,{key:1})),t("div",ht,[t("div",_t,[I(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>L(u)?u.value=o:u=o),type:"text",class:"form-control",id:"",placeholder:"Tên khu vực	"},null,512),[[O,l(u)]])]),t("div",ft,[I(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>L(r)?r.value=o:r=o),type:"text",class:"form-control",id:"",placeholder:"Slug"},null,512),[[O,l(r)]])]),t("div",mt,[I(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>L(_)?_.value=o:_=o),type:"text",class:"form-control",id:"",placeholder:"Note"},null,512),[[O,l(_)]])]),t("div",gt,[t("button",vt,[f(" Địa điểm   "),bt,f(" "+c(l(B)),1)]),t("div",kt,[(n(!0),i(k,null,C(l(b),o=>(n(),i("button",{class:"dropdown-item",onClick:x=>q(o.id,o.name)},c(o.name),9,yt))),256))])]),t("button",{onClick:H,class:"btn btn-success"},[f(" Khu vực mới "),Tt]),t("p",null,c(l(v)),1)])])],64))}},Lt=P(wt,[["__scopeId","data-v-761c2f68"]]);export{Lt as default};
